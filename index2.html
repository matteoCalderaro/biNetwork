<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
      #forecastfilters{
        /* background-color: rgb(139, 219, 179); */
        padding: 30px;
      }
      #forecastfilters.show{
        animation: show 0.8s linear;
      }
      #forecastfilters.hide{
        animation: hide 0.8s linear;
        /* display: none; */
      }
      @keyframes show {
        0% {
          max-height: 0px;
          opacity: 0;
          transform: scaleY(0);
        }
        30%{
          opacity: 0.1;
        }
        70%{
          opacity: 0.2;
        }
        100% {
          max-height: 850px;
          opacity: 1;
          transform: scaleY(1);

        }
      }
      @keyframes hide {
        0% {
          max-height: 850px;
          opacity: 1;
          transform: scaleY(1);
        }
        30%{
          opacity: 0.3;
        }
        70%{
          opacity: 0.1;
        }
        100% {
          max-height: 0px;
          opacity: 0;
          /* visibility: hidden; */
          transform: scaleY(0);
        }
      }
      
     
    
    
  </style>
</head>
<body>
    <button>Click</button>

    <div id="forecastfilters" style="display: none;">
        <div>Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam vero, iure assumenda cum eius quia! Voluptatibus sint temporibus minima aliquam mollitia aspernatur fugit, accusantium vitae quos libero dolorem dolores possimus.Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam vero, iure assumenda cum eius quia! Voluptatibus sint temporibus minima aliquam mollitia aspernatur fugit, accusantium vitae quos libero dolorem dolores possimus.Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam vero, iure assumenda cum eius quia! Voluptatibus sint temporibus minima aliquam mollitia aspernatur fugit, accusantium vitae quos libero dolorem dolores possimus.Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam vero, iure assumenda cum eius quia! Voluptatibus sint temporibus minima aliquam mollitia aspernatur fugit, accusantium vitae quos libero dolorem dolores possimus.Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam vero, iure assumenda cum eius quia! Voluptatibus sint temporibus minima aliquam mollitia aspernatur fugit, accusantium vitae quos libero dolorem dolores possimus.Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam vero, iure assumenda cum eius quia! Voluptatibus sint temporibus minima aliquam mollitia aspernatur fugit, accusantium vitae quos libero dolorem dolores possimus.Lorem ipsum dolor sit amet consectetur </div>
    </div>
    <div style="background-color: red; height: 1000px;">
          ciao
    </div>


    <script>

      let timer = null
      let container = document.querySelector("#forecastfilters")
      let btn = document.querySelector("button")
      btn.addEventListener("click",()=>{
        if(timer){
          clearTimeout(timer)
        }
        console.log(timer)
        container.classList.add('show')
        if(container.style.display=== "none"){
          container.classList.remove('hide')
          container.style.display = "block"
          
        }
        else{
          container.classList.add('hide')
          container.classList.remove('show')
          timer = setTimeout(()=>{
            container.style.display = "none"
          },785)
          return timer
        }
      })
      
    </script>
    

</body>
</html>
